---
sidebar_position: 2.0204
---

# Data encryption
========================

![img](/img/2-02-04-01.png)

Encryption is one of the most common controls used to protect sensitive information. When you encrypt a file or other form of data, you take it's plain text form, and use a mathematical algorithm to transform it, using an encryption key, into a version that's unreadable to someone who doesn't have the corresponding decryption key. This makes it possible to take sensitive information, encrypt it, and store it in insecure locations or transmit it over insecure networks. If the encryption is strong, the information will remain safe. We normally encrypt information using specialized software. For example, the AES Crypt software package, available for Windows, Mac and Linux systems, implements the US government's advanced encryption standard to encrypt files. Let's take a look at how we can encrypt a file, using AES Crypt on a Linux system. I'm here in my home directory, and you can see that I have a file called AES.html. If I look at the contents of this file, you'll see that it contains a copy of the Wikipedia page, describing the advanced encryption standard. You can see the text here in this file. It's not yet encrypted. Let me go ahead and clear the screen so we don't have that cluttering things up. And I'm going to run the aescrypt command on this file. I just type aescrypt, and then -e to indicate that I would like to encrypt the file, and then the name of the file, AES.html. AES Crypt then ask me for a password that I'm going to use to protect the file. So I'm going to enter the words "secret password". Then I'm asked to reenter that same password. And now if I take a look at the contents of the directory, I can see there are two files, the original AES.html, and then this new file, AES.html.aes. That's the encrypted version of the AES.html file. Let's go ahead and delete the original AES.html file, and then take a quick look at the contents of the encrypted version. Here we can see, it looks like a bunch of nonsense. I'm hearing beeps and I'm seeing strange symbols on the screen. That's because this file is encrypted. We can decrypt a file by using the aescrypt command as well. Let me clear the screen again, take a look at the contents of the directory and you can see we only have the encrypted version of the file, and then I'm going to type aescrypt -d, and the name of the encrypted file. I'm then prompted to enter my password. And I use the password "secret password". Of course you'd want to use a much more secure password. We're just using a simple one for this demonstration. And then when I look at the contents of the directory, now I can see the AES.html file is back. And when I look at the contents of that file, I can once again see the plain text content. You can also use encryption to protect the entire contents of a hard drive, using a technology called Full-Disk Encryption or FDE. This is an important protection against the loss of an entire computer system. If an employee loses a laptop, someone who finds it can easily bypass the operating system access controls by placing the hard drive in another computer system. If the drive is encrypted, this isn't possible. It's easy to perform Full-Disk Encryption on almost any modern operating system. Let's take a look at the encryption settings on my MacBook. I have System Preferences open here. I'm going to go ahead and click on Security and Privacy, and then choose the File Vault tab. File Vault is the name that Apple gives to their Full-Disk Encryption technology. You can see here that File Vault is already turned on for my computer. If I lose my MacBook, nobody will be able to access the contents of my hard drive without knowing my password. Of course, that also means that I can't access the contents of my hard drive, if I forget my password. All the encryption techniques that we've discussed so far, use software encryption, which works well when we don't have a tremendous amount of encryption to perform. It doesn't scale well because encryption and decryption are mathematically complex. If we need to perform a lot of these operations, it places a lot of pressure on the CPU. And it's easier to perform encryption using dedicated hardware that's built for that purpose. Hardware Security Modules or HSMs, use dedicated hardware to perform encryption and decryption operations, and safely manage encryption keys. HSMs are the gold standard for implementing encryption as they are both efficient and secure. The Trusted Platform Module is a specialized HSM found in many computer systems. It allows the use of Full-Disk Encryption on a hard drive in a manner that minimizes the impact on system performance. Since the TPM contains the encryption keys, it also prevents an attacker from removing an encrypted hard drive from a computer, and placing it in another computer for reading. If the correct TPM isn't present, the contents of the drive can't be read. You can also purchase hardware that performs encryption automatically. Self-Encrypting Drives or SEDs are the best example of this. They contain all the hardware and software necessary to perform encryption independent of the operating system. Self-Encrypting Drives may include traditional hard drives, as well as USB sticks and other storage media. The Trusted Computing Group produces the Opal Storage Specification that's a standard for Self-Encrypting Drives.

to use AES built in to encrypt a file:
![img](/img/2-02-04-02.png)

to use AES built in to decrypt a file:
![img](/img/2-02-04-03.png)

![img](/img/2-02-04-04.png)

![img](/img/2-02-04-05.png)

![img](/img/2-02-04-06.png)

![img](/img/2-02-04-07.png)